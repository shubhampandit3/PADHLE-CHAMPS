<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XP Leaderboard - Padhle Champs</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Outfit:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="xp-ladder.css">
</head>
<body>
    <!-- Animated Background -->
    <div class="bg-pattern"></div>
    
    <!-- Header -->
    <nav class="header-nav">
        <div class="nav-container">
            <button onclick="goHome()" class="nav-btn">
                <i class="fas fa-arrow-left"></i>
                <span>Home</span>
            </button>
            <div class="nav-title">
                <i class="fas fa-trophy"></i>
                <h1>XP Leaderboard</h1>
            </div>
            <div class="nav-actions">
                <button onclick="showInfo()" class="info-btn" title="Info">
                    <i class="fas fa-circle-info"></i>
                </button>
                <div class="week-badge">
                    <i class="fas fa-calendar-week"></i>
                    <span id="currentWeek">Week 1</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="main-container">
        <!-- User Stats Card -->
        <div class="user-stats-card">
            <div class="stats-header">
                <div class="user-avatar">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z" fill="currentColor"/>
                        <path d="M12 14C6.48 14 2 16.48 2 19.5V22H22V19.5C22 16.48 17.52 14 12 14Z" fill="currentColor"/>
                    </svg>
                </div>
                <div class="user-info">
                    <h3 id="userName">Loading...</h3>
                    <p id="userClass"><i class="fas fa-graduation-cap"></i> Class 5</p>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-item stat-xp">
                    <div class="stat-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M13 2L3 14H12L11 22L21 10H12L13 2Z" fill="currentColor"/>
                        </svg>
                    </div>
                    <div class="stat-value" id="userXP">0</div>
                    <div class="stat-label">Total XP</div>
                </div>
                <div class="stat-item stat-rank">
                    <div class="stat-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" fill="currentColor"/>
                        </svg>
                    </div>
                    <div class="stat-value" id="userRank">#-</div>
                    <div class="stat-label">Current Rank</div>
                </div>
                <div class="stat-item stat-level">
                    <div class="stat-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2L2 7L12 12L22 7L12 2Z" fill="currentColor"/>
                            <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2"/>
                            <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </div>
                    <div class="stat-value" id="userLevel">Honhar</div>
                    <div class="stat-label">Level</div>
                </div>
                <div class="stat-item stat-target">
                    <div class="stat-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                            <circle cx="12" cy="12" r="6" stroke="currentColor" stroke-width="2"/>
                            <circle cx="12" cy="12" r="2" fill="currentColor"/>
                        </svg>
                    </div>
                    <div class="stat-value" id="nextLevelXP">50</div>
                    <div class="stat-label">XP to Next</div>
                </div>
            </div>
            <div class="level-progress">
                <div class="progress-info">
                    <span><i class="fas fa-chart-line"></i> Level Progress</span>
                    <span id="progressPercent" class="progress-percent">0%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>
        </div>

        <!-- Level Badge Showcase -->
        <div class="level-showcase">
            <h2 class="section-title">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 15C15.866 15 19 11.866 19 8C19 4.13401 15.866 1 12 1C8.13401 1 5 4.13401 5 8C5 11.866 8.13401 15 12 15Z" fill="currentColor"/>
                    <path d="M7 14L5 23L12 19L19 23L17 14" stroke="currentColor" stroke-width="2"/>
                </svg>
                Your Level Journey
            </h2>
            <div class="badge-showcase">
                <div class="badge-item prev" id="prevBadge">
                    <div class="badge-ring"></div>
                    <img src="Level 1.png" alt="Previous Level">
                    <span class="badge-label">Previous</span>
                    <span class="badge-number">1</span>
                </div>
                <div class="badge-item current" id="currentBadge">
                    <div class="badge-ring active"></div>
                    <div class="badge-glow"></div>
                    <img src="Level 1.png" alt="Current Level">
                    <span class="badge-label">Current</span>
                    <span class="badge-number">1</span>
                    <div class="pulse-ring"></div>
                </div>
                <div class="badge-item next" id="nextBadge">
                    <div class="badge-ring"></div>
                    <img src="Level 2.png" alt="Next Level">
                    <span class="badge-label">Next</span>
                    <span class="badge-number">2</span>
                </div>
            </div>
        </div>

        <!-- Leaderboard -->
        <div class="leaderboard-section">
            <div class="leaderboard-header">
                <h2 class="section-title">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" fill="currentColor"/>
                    </svg>
                    Weekly Leaderboard
                </h2>
                <div class="filter-buttons">
                    <button class="filter-btn active" onclick="filterLeaderboard('class')">
                        <i class="fas fa-users"></i>
                        <span>My Class</span>
                    </button>
                    <button class="filter-btn" onclick="filterLeaderboard('global')">
                        <i class="fas fa-globe"></i>
                        <span>Global</span>
                    </button>
                </div>
            </div>
            <div class="leaderboard-list" id="leaderboardList"></div>
        </div>

        <!-- Motivational Messages -->
        <div class="motivation-card" id="motivationCard">
            <div class="motivation-icon">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2C12 2 8 6 8 10C8 12.2091 9.79086 14 12 14C14.2091 14 16 12.2091 16 10C16 6 12 2 12 2Z" fill="currentColor"/>
                    <path d="M12 14C12 14 9 17 9 19.5C9 20.8807 10.1193 22 11.5 22H12.5C13.8807 22 15 20.8807 15 19.5C15 17 12 14 12 14Z" fill="currentColor"/>
                </svg>
            </div>
            <div class="motivation-content">
                <h4>Keep Going!</h4>
                <p id="motivationText">You're doing great! Keep learning to climb higher.</p>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>
    
    <!-- Custom JavaScript -->
    <script src="xp-ladder.js"></script>
</body>
</html>